/*! passport2- 2018-12-27 09:19:46 */
var instance,isLogined=!1,protocol="",dialogArgs={},dialogType="login",status="",mobileBindNeedCaptch=!1,saftLoginAcceptEmail=!1,captchaTimer,captchaCoolDown,onSending=!1,shockScreen=function(){var a=$(".ui-passport-pop");a.removeClass("gpp-has-error").addClass("gpp-has-error"),setTimeout(function(){a.removeClass("gpp-has-error")},500)};!function(){var a=function(){},b=0;util=Passport.util,$E=util.$,noFixed=!!window.ActiveXObject&&!window.XMLHttpRequest||!!window.ActiveXObject&&"BackCompat"==document.compatMode;var c=function(){var a="placeholder"in document.createElement("input")&&"placeholder"in document.createElement("textarea");!a&&$("form").on("submit",function(){$(this).find("input[placeholder]").trigger("focus.placeholder")}),$(".ui-passport-button").on({mouseenter:function(){$(this).addClass("ui-passport-button-hover")},mouseleave:function(){$(this).removeClass("ui-passport-button-hover")}})};Passport.UI.pop={_html:function(a){var b=[];b.push('<div class="gb-passport-pop ui-passport-pop pprt-form-box">'),b.push('	<a href="javascript:;" class="gpp-close pprt-js-close"><i class="gpp-ico-close"></i></a>'),b.push('	<a href="javascript:;" class="gpp-close pprt-saft-close" style="display:none"><i class="gpp-ico-close"></i></a>'),b.push('	<div class="gpp-hd gpp-hd-half ue-passport-half-off pprt-login-el"><span class="gpp-tit">\u7528\u6237\u767b\u5f55</span></div>'),b.push('	<div class="gpp-bd pprt-login-el">'),b.push('		<div class="gpp-saft-login-info" style="display:none">'),b.push('			<div class="gpp-saft-login-demo"><img src="'+protocol+'//s.ue.17173cdn.com/a/lib/passport/v2/img/demo.jpg" alt="" width="153" height="187" /></div>'),b.push('			<a style="display:none" href="javascript:;" id="pprtGetDynamicPass" class="gpp-bt">\u83b7\u53d6\u52a8\u6001\u5bc6\u7801</a>'),b.push("		</div>"),b.push('		<form class="gpp-form pprt-form">'),b.push('<div class="gpp-form-user ue-passport-half-on">'),b.push('	<div class="gpp-form-user-avatar"><img src="'+protocol+'//s.ue.17173cdn.com/a/lib/passport/v2/img/photo.png" alt="" width="65" height="65" /></div>'),b.push('	<div class="gpp-form-user-name"></div>'),b.push("</div>"),b.push('			<p class="gpp-form-tiperror login-err"><i class="gpp-ico-error"></i>\u901a\u884c\u8bc1\u548c\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a</p>'),b.push('			<div class="gpp-form-item gpp-form-item-account  ue-passport-half-off">'),b.push('				<div class="gpp-form-group  ui-passport-input-txt">'),b.push('					<span class="gpp-form-text-ico"><i class="gpp-ico-user"></i></span>'),b.push('					<input type="text" name="email" placeholder="\u624b\u673a\u53f7" class="gpp-form-text" value=""/><a tabindex="-1" href="javascript:;" class="gpp-form-text-bt ui-passport-input-delete"><i class="gpp-ico-delete"></i></a>'),b.push('				</div><div class="gpp-drop ue-passport-select-wrap"></div>'),b.push("			</div>"),b.push('			<div class="gpp-form-item gpp-form-item-pword">'),b.push('				<div class="gpp-form-group ui-passport-input-txt">'),b.push('					<span class="gpp-form-text-ico"><i class="gpp-ico-lock"></i></span>'),b.push('					<input type="password" name="password" placeholder="\u5bc6\u7801" class="gpp-form-text"/>'),b.push('					<a  tabindex="-1" href="javascript:;" class="gpp-form-text-bt ui-passport-pwd-delete"><i class="gpp-ico-delete"></i></a>'),b.push("				</div>"),b.push("			</div>"),b.push('        <div class="gpp-form-item gpp-form-item-verify" style="display:none;" id="pprt-saft-container">'),b.push('	        <div class="gpp-form-group ui-passport-input-txt">'),b.push('		        <input type="input" placeholder="\u52a8\u6001\u5bc6\u7801" class="gpp-form-text mobile_verify_code" name="mobile_verify_code">'),b.push("	        </div>"),b.push('	        <div class="gpp-form-verify">'),noFixed?b.push('		        <a href="#pprtgetsaftverify" style="height:34px;border: 1px solid #fd9600;background: #fff;color: #fd9600;" class="gpp-bt" id="getDynamicPass">\u83b7\u53d6\u52a8\u6001\u5bc6\u7801</a>'):b.push('		        <a href="javascript:;" style="height:34px;border: 1px solid #fd9600;background: #fff;color: #fd9600;" class="gpp-bt" id="getDynamicPass">\u83b7\u53d6\u52a8\u6001\u5bc6\u7801</a>'),b.push("	        </div>"),b.push("        </div>"),b.push('			<div class="gpp-form-checkbox">'),b.push('				<label><input type="checkbox" name="persistentcookie"/>\u4e0b\u6b21\u81ea\u52a8\u767b\u5f55</label>'),b.push("			</div>"),b.push('			<div class="gpp-form-opera">'),b.push('				<div class="gpp-form-bt"><button type="submit" >\u767b\u5f55</button></div>'),b.push("			</div>"),b.push('			<div class="gpp-form-track  ue-passport-half-off">'),b.push('				<span class="gpp-form-link gpp-form-track-l"><a href="https://passport.17173.com/register" target="_blank" id="pprt-toggle-register">\u7acb\u5373\u6ce8\u518c</a><a style="color: #fd9600;" href="javascript:;" id="pprt-toggle-login">\u8d26\u53f7\u767b\u5f55</a></span>'),b.push('				<span class="gpp-form-link gpp-form-track-r"><a target="_blank" href="//passport.17173.com/password/forget">\u5fd8\u8bb0\u5bc6\u7801?</a></span>'),b.push("			</div>"),b.push('<div class="gpp-form-track  ue-passport-half-on" style="display:none;">'),b.push('	<span class="gpp-form-link gpp-form-track-r"><a target="_blank" href="//passport.17173.com/password/forget">\u5fd8\u8bb0\u5bc6\u7801?</a></span>'),b.push("</div>"),b.push("		</form>"),b.push("	</div>"),b.push('	<div class="gpp-ft  ue-passport-half-off pprt-login-el">'),b.push('		<div class="gpp-login-other pprt-quick-login">'),b.push('     <div class="gpp-tit"><i></i><span>\u4e00\u952e\u767b\u5f55</span></div>'),b.push('			<a href="javascript:;" class="gpp-login-other-bt" id="pprt-login-other-bt"><i class="gpp-ico-arrow"></i></a>'),b.push('			<div class="gpp-login-other-link">'),b.push('				<a href="javascript:;" title="\u53ef\u4f7f\u7528\u817e\u8baf\u5e10\u53f7\u767b\u5f55" class="gpp-login-qq ui-passport-qui-link open-platform-qq"></a>'),b.push('				<a href="javascript:;" title="\u53ef\u4f7f\u7528\u5fae\u4fe1\u5e10\u53f7\u767b\u5f55" class="gpp-login-weixin ui-passport-qui-link open-platform-weixin"></a>'),b.push('				<a href="javascript:;" title="\u53ef\u4f7f\u7528\u5fae\u535a\u5e10\u53f7\u767b\u5f55" class="gpp-login-weibo ui-passport-qui-link open-platform-weibo"></a>'),b.push('				<a href="javascript:;" title="\u53ef\u4f7f\u7528\u767e\u5ea6\u5e10\u53f7\u767b\u5f55" class="gpp-login-baidu ui-passport-qui-link open-platform-baidu"></a>'),b.push('				<a href="javascript:;" title="\u53ef\u4f7f\u7528\u7545\u6e38\u5e10\u53f7\u767b\u5f55" class="gpp-login-cyou ui-passport-qui-link open-platform-cyou"></a>'),b.push("			</div>"),b.push("		</div>"),b.push("	</div>"),b.push('<div class="gpp-bd pprt-register-el pprt-register-mail-el" style="margin:0">');1*new Date;b.push("</div>"),b.push('<div class="gpp-hd pprt-bindMobile-el"><span class="gpp-tit">\u8bf7\u586b\u5199\u624b\u673a\u53f7</span></div>'),b.push('<div class="gpp-bd pprt-bindMobile-el">'),b.push('  <form class="gpp-form gpp-form-tel-bind" id="pprt-bindmobile-form">'),b.push('    <p class="gpp-form-tiperror" id="pprt-bindmobile-phonevalidate">\u8d26\u53f7\u5b89\u5168\u7ea7\u522b\u8f83\u4f4e\uff0c\u5efa\u8bae\u7ed1\u5b9a\u624b\u673a</p>'),b.push('    <div class="gpp-form-item gpp-form-item-account">'),b.push('      <div class="gpp-form-group">'),b.push('        <input type="text" value="" id="pprt-bindmobile-mobile" placeholder="\u5927\u9646\u624b\u673a\u53f7" class="gpp-form-text">'),b.push('        <a href="javascript:;"  tabindex="-1" class="gpp-form-text-bt ui-passport-mobile-delete"><i class="gpp-ico-delete"></i></a>'),b.push("      </div>"),b.push("    </div>"),b.push('    <div class="gpp-form-item gpp-form-item-verify">'),b.push('      <div class="gpp-form-group">'),b.push('        <input type="text" placeholder="\u8f93\u5165\u9a8c\u8bc1\u7801" class="gpp-form-text" id="pprt-bindmobile-captcha">'),b.push("      </div>"),b.push('      <div class="gpp-form-verify">'),b.push('        <a href="javascript:;" style="height:34px;border: 1px solid #fd9600;background: #fff;color: #fd9600;" id="pprt-bindmobile-getCaptcha" class="gpp-bt gpp-bt-ex"><b></b>\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801</a>'),b.push("      </div>"),b.push("    </div>"),b.push('    <div class="gpp-form-opera">'),b.push('      <div class="gpp-form-bt"><button type="submit">\u786e\u8ba4\u7ed1\u5b9a</button></div>'),b.push("    </div>"),b.push("  </form>"),b.push("</div>"),b.push('<div class="gpp-hd pprt-editName-el"><span class="gpp-tit">\u8bf7\u4fee\u6539\u6635\u79f0</span></div>'),b.push('<div class="gpp-bd pprt-editName-el">'),b.push('  <form class="gpp-form gpp-form-modify-name" id="pprt-nameedit-form">'),b.push('    <p class="gpp-cur-name">\u5f53\u524d\u901a\u884c\u8bc1\u6635\u79f0\uff1a<span id="pprt-nameedit-currentname">17173\u73a9\u5bb6_133666069</span></p>'),b.push('    <p class="gpp-form-tiperror" id="pprt-nameedit-errtip" style="display: block;"><i class="gpp-ico-error"></i>\u8bf7\u6309\u8981\u6c42\u8f93\u5165\u6b63\u786e\u7684\u6635\u79f0</p>'),b.push('    <div class="gpp-form-item">'),b.push('      <div class="gpp-form-tit">\u65b0\u6635\u79f0\uff1a</div>'),b.push('      <div class="gpp-form-group">'),b.push('        <input type="text" class="gpp-form-text" name="nickname" id="pprt-nameedit-name">'),b.push('        <a href="javascript:;" class="gpp-form-text-bt ui-passport-nameedit-delete" tabindex="-1"><i class="gpp-ico-delete"></i></a>'),b.push("      </div>"),b.push('      <p class="gpp-form-tip">\u652f\u6301\u4e2d\u82f1\u6587\u3001\u6570\u5b57\u3001\u5b57\u7b26\uff08\u4e0d\u533a\u5206\u5927\u5c0f\u5199)</p>'),b.push("    </div>"),b.push('    <div class="gpp-form-opera">'),b.push('      <div class="gpp-form-bt gpp-form-bt-sure"><button type="submit">\u7acb\u5373\u4fee\u6539</button></div>'),b.push('      <div class="gpp-form-bt gpp-form-bt-cancle"><button id="pprt-nameedit-close" no-validcode="true" type="submit">\u4ee5\u540e\u518d\u8bf4</button></div>'),b.push("    </div>"),b.push("  </form>"),b.push("</div>"),b.push("</div>"),a.length=0,a.push(util.$(b.join("")).element)},_initing:function(){var a,b=document.createElement("div"),c=document.createElement("div");if($E(b).hide(),util.addClass(b,"ue-passport-modal"),document.body.appendChild(b),document.body.appendChild(c),this.modalEl=b,this.element=c,$E(this.element).hide(),util.addClass(c,"ue-pprt-popwrap"),noFixed){c.style.position="absolute",b.style.position="absolute";var d=util.getBodyHeight(),e=util.getBodyWidth();a=function(){var a=document.body.scrollTop||document.documentElement.scrollTop;c.style.top=a+d/2+"px",b.style.top=a},a();var f=function(){d=util.getBodyHeight(),e=util.getBodyWidth(),b.style.height=d,b.style.width=e,a()};f(),util.on(window,"resize",f),util.on(window,"scroll",a)}},_inited:function(){var a,b,d=this,e=$E(".ui-passport-input-delete",this.element),f=$E(".ui-passport-pwd-delete",this.element),g=$(".ui-passport-mobile-delete").hide(),h=$(".ui-passport-nameedit-delete").hide(),i=$E(".pprt-js-close",this.element);this.ppSelectWrapElement=$E(".ue-passport-select-wrap",this.element),this.ppSelectElement=$E(".pprt-select-17173",this.element),util.$(this.element).show(),a=util.getOffset(d.element),b=util.getOffset(d.emailInput),d.ppSelectWrapElement.element.style.width=d.emailInput.offsetWidth+"px",util.$(this.element).hide(),this.ppSelectWrapElement.hide(),this.hide(),$(".gpp-login-other-bt").on("focus",function(){this.blur()}),util.on(i.element,"click",function(){0==isLogined&&Passport.isLoggedIn()&&(parent.location.href=parent.location.href),Passport.core.fireEvent(Passport.EVENTS.dialogClose,{byUser:!0,dialogType:dialogType}),d.hide()}),util.on(this.emailInput,"change",function(){saftLoginAcceptEmail=!1,d.emailInput.value&&e.show()}),util.on(this.passwdInput,"change",function(){d.passwdInput.value&&f.show()}),util.on(this.emailInput,"keyup",function(){d.emailInput.value?e.show():e.hide()}),util.on(this.passwdInput,"keyup",function(){d.passwdInput.value?f.show():f.hide()});var j=$("#pprt-bindmobile-mobile");j.on("keyup",function(){$("#pprt-bindmobile-phonevalidate").hide(),j.val()?g.show():g.hide()}),g.on("click",function(){g.hide(),j.val("").focus()});var k=$("#pprt-nameedit-name");k.on("keyup",function(){$("#pprt-nameedit-errtip").hide(),k.val()?h.show():h.hide()}),h.on("click",function(){h.hide(),k.val("").focus()}),util.on(e.element,"click",function(){e.hide(),d.emailInput.value="",d.emailInput.focus()}),util.on(f.element,"click",function(){f.hide(),d.passwdInput.value="",d.passwdInput.focus()}),$(".gpp-login-other-bt").show().hide().show(),$(".gpp-login-other-bt").on("click",function(){var a=$(".pprt-quick-login");$(this).hide(),a.addClass("gpp-login-other-show")}),$("#pprt-toggle-login").on("click",function(){toggleFromSaft()}),$(".pprt-toggle-mail-btn").on("click",function(){$(".pprt-register-mobile-el").hide(),$(".pprt-register-mail-el").show()}),$(".pprt-toggle-mobile-btn").on("click",function(){$(".pprt-register-mobile-el").show(),$(".pprt-register-mail-el").hide()}),$("#getDynamicPass").on("click",function(){var a,b=$('input[name="email"]').val();return saftLoginAcceptEmail?/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)||/1\d{10}/.test(b)||(a={status:!1,msg:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}):/1\d{10}/.test(b)||(a={status:!1,msg:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}),a?void instance.showError(a):void dynamicPass(b)}),$(".ue-passport-select-wrap").width(270),c();var l=$("#pprt-bindmobile-getCaptcha");captchaCoolDown=0;var m=function(a){captchaCoolDown=a||captchaCoolDown,captchaCoolDown>0?(l.html(captchaCoolDown+"\u79d2\u540e\u91cd\u65b0\u53d1\u9001</span>"),l.css({border:"1px solid #999",color:"#999"}),captchaCoolDown-=1,captchaTimer=setTimeout(function(){m()},1e3)):(captchaCoolDown=0,l.css({border:"1px solid #fd9600",color:"#fd9600"}),l.html("\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801"))};util.jsonpGet("//"+Passport.Core.defaultOption.passportdomain+"/safe/mobiletopbar/bindMobileCaptcha",{},function(a){8==a.status&&(mobileBindNeedCaptch=!0)});var n=!1;l.on("click",function(a){a.preventDefault(),n||captchaCoolDown||!validateMobileNum()||(d.tcValidater.clear(),d.tcValidater.validate(function(){n=!0,$("#pprt-bindmobile-phonevalidate").hide(),util.jsonpGet(protocol+"//"+Passport.Core.defaultOption.passportdomain+"/safe/mobiletopbar/bindMobileCaptcha",{mobile:$("#pprt-bindmobile-mobile").val(),validcode:d.validcode,txAppId:d.txAppId,randStr:d.randStr,clear:1*new Date},function(a){var b="\u77ed\u4fe1\u53d1\u9001\u5931\u8d25,\u8bf7\u7a0d\u540e\u91cd\u8bd5";n=!1,mobileBindNeedCaptch=!1,1!=a.status?(3==a.status&&a.data&&a.data.err_field&&a.data.err_field.mobile&&a.data.err_field.mobile.length?b=a.data.err_field.mobile[0]:a.msg&&(8==a.status&&(mobileBindNeedCaptch=!0,d._changeValidcode()),b=a.msg),shockScreen(),$("#pprt-bindmobile-phonevalidate").html('<i class="gpp-ico-error"></i>'+b).show()):m(60)})}))}),$("#pprt-bindmobile-form").submit(function(a){a.preventDefault(),validateMobileNum()&&validateCapcha()&&util.jsonpGet(protocol+"//"+Passport.Core.defaultOption.passportdomain+"/safe/mobiletopbar/bindMobile",{mobile:$("#pprt-bindmobile-mobile").val(),mobile_verify_code:$("#pprt-bindmobile-captcha").val(),clear:1*new Date},function(a){1==a.status?(Passport.core.fireEvent(Passport.EVENTS.dialogClose,{byUser:!1,dialogType:dialogType}),Passport.core.fireEvent(Passport.EVENTS.mobileBindSucess),d.hide()):(shockScreen(),Passport.core.fireEvent(Passport.EVENTS.mobileBindFailure),$("#pprt-bindmobile-phonevalidate").html('<i class="gpp-ico-error"></i>'+a.msg).show())})}),$("#pprt-nameedit-form").submit(function(a){a.preventDefault();var b=$.trim($("#pprt-nameedit-name").val());b?b.length>20?(shockScreen(),$("#pprt-nameedit-errtip").html('<i class="gpp-ico-error"></i>\u6635\u79f0\u4e0d\u53ef\u8d85\u8fc720\u4e2a\u5b57').show()):util.jsonpGet("https://"+Passport.Core.defaultOption.passportdomain+"/safe/topbar/updateNickname",{nickname:encodeURIComponent(b),action:"save",clear:1*new Date},function(a){1==a.status?(Passport.core.fireEvent(Passport.EVENTS.dialogClose,{byUser:!1,dialogType:dialogType}),d.hide()):(shockScreen(),$("#pprt-nameedit-errtip").html('<i class="gpp-ico-error"></i>'+a.data.tips).show())}):(shockScreen(),$("#pprt-nameedit-errtip").html('<i class="gpp-ico-error"></i>\u8bf7\u6309\u8981\u6c42\u8f93\u5165\u6b63\u786e\u7684\u6635\u79f0').show())}),$("#pprt-nameedit-close").on("click",function(a){a.preventDefault(),d.hide()})},_loginStart:a,_loginSuccess:function(){var a=this,b=$E(".ui-passport-input-delete",this.element);isLogined=!0,b.hide(),$E(".ui-passport-pwd-delete",this.element).hide(),!dialogArgs.type&&Passport.defaultOption.mobileBindOn?util.jsonpGet(protocol+"//"+Passport.Core.defaultOption.passportdomain+"/sso/isBindMobile",{username:encodeURI(Passport.data("username")),clear:1*new Date},function(b){b&&4==b.status?util.jsonpGet(protocol+"//"+Passport.Core.defaultOption.passportdomain+"/sso/getUserLoginNum",{uid:Passport.data("uid"),clear:1*new Date},function(b){b.data&&b.data.num<4?(a.show(),toggleToBindMobile()):(Passport.core.fireEvent(Passport.EVENTS.dialogClose,{byUser:!1,dialogType:dialogType,isLoggedIn:Passport.isLoggedIn()}),a.hide())}):(Passport.core.fireEvent(Passport.EVENTS.dialogClose,{byUser:!1,dialogType:dialogType}),a.hide())}):(Passport.core.fireEvent(Passport.EVENTS.dialogClose,{byUser:!1,dialogType:dialogType}),a.hide())},_loginFailure:function(a){var c=$(".login-err");c.html('<i class="gpp-ico-error"></i>'+a.msg),shockScreen(),a.status&&b++,b>=3&&(util.jsonpGet(protocol+"//"+Passport.Core.defaultOption.passportdomain+"/sso/dynamicStatus",{},function(a){a&&1==a.status?util.jsonpGet(protocol+"//"+Passport.Core.defaultOption.passportdomain+"/sso/isBindMobile",{username:$('input[name="email"]').val(),clear:1*new Date},function(a){a&&1==a.status?toggleToSaft(!0):instance._changeValidcode()}):instance._changeValidcode()}),b=0)},_logoutStart:a,_logoutSuccess:function(){isLogined=!1},_logoutFailure:a,_show:function(a){this.tcValidater.clear(),$(".ui-passport-pop").removeClass("gpp-has-error"),a.showQuickLogin?$(".pprt-quick-login").addClass("gpp-login-other-show"):$(".pprt-quick-login").removeClass("gpp-login-other-show");var b=this,c=$E(".ui-passport-input-delete",this.element);this.isLogined||(this.emailInput&&setTimeout(function(){try{b.emailInput.value&&"\u624b\u673a\u53f7"!=b.emailInput.value?b.passwdInput.focus():b.emailInput.focus()}catch(a){}},200),$E(this.element).show()),this.emailInput&&this.emailInput.value?c.show():c.hide(),$E(".ui-passport-pwd-delete",this.element).hide()},_hide:function(){$E(this.element).hide()}},instance=null,Passport._Dialog=Passport.UIBase.extend({init:function(a){return instance?instance:(a=this.option=util.extend({},a),a.ui="pop",this._initing(a),void this._inited())}}),Passport._Dialog.show=function(a){parent.Passport.getOption&&Passport.set({appid:parent.Passport.getOption("appid")}),parent.Passport.getOption&&Passport.set({currentUrl:parent.Passport.getOption("currentUrl")}),parent.Passport.getOption&&Passport.set({registerParam:parent.Passport.getOption("registerParam")}),instance||(instance=new Passport._Dialog),a=util.extend({},{modal:!0},a),instance.show(a),instance.passwdInput&&(instance.passwdInput.value=""),instance.formElement.show()},Passport._Dialog.hide=function(){instance&&instance.hide()}}();var validateMobileNum=function(){var a=$("#pprt-bindmobile-mobile").val(),b=$("#pprt-bindmobile-phonevalidate"),c=!0;return a?/^1\d{10}$/.test(a)?b.hide():(shockScreen(),b.html('<i class="gpp-ico-error"></i>\u624b\u673a\u53f7\u7801\u683c\u5f0f\u9519\u8bef').show(),$("#pprt-bindmobile-mobile")[0].focus(),c=!1):(shockScreen(),b.html('<i class="gpp-ico-error"></i>\u8bf7\u8f93\u5165\u624b\u673a\u53f7').show(),$("#pprt-bindmobile-mobile")[0].focus(),c=!1),c},validateCapcha=function(){var a=$("#pprt-bindmobile-captcha").val(),b=$("#pprt-bindmobile-phonevalidate"),c=!0;return a?b.hide():(shockScreen(),b.html('<i class="gpp-ico-error"></i>\u8f93\u5165\u9a8c\u8bc1\u7801').show(),c=!1),c},dynamicCooldown=!1,dynamicPassGeted=function(a){dynamicCooldown=!0,$(".pprt-form").show(),$(".mobile_verify_code").focus(),$(".gpp-form-tiperror").hide();var b=120,c=null;$("#getDynamicPass").text("120s\u540e\u91cd\u65b0\u83b7\u53d6").css({"font-size":"14px",cursor:"default",border:"1px solid #999",color:"#999"});var d=function(){clearTimeout(c),setTimeout(function(){b--,$("#getDynamicPass").text(b+"s\u540e\u91cd\u65b0\u83b7\u53d6"),b>0?d():(dynamicCooldown=!1,$("#getDynamicPass").text("\u91cd\u65b0\u83b7\u53d6").css({border:"1px solid #fd9600",color:"#fd9600","font-size":"16px",cursor:"pointer"}))},1e3)};d()},dynamicPass=function(a){dynamicCooldown||(instance.tcValidater.clear(),instance.tcValidater.validate(function(){util.jsonpGet(protocol+"//"+Passport.Core.defaultOption.passportdomain+"/sso/mobileCaptcha",{username:encodeURI(a),dynamic:1,validcode:instance.validcode,txAppId:instance.txAppId,randStr:instance.randStr,clear:1*new Date},function(a){1!=a.status?instance.showError(a):dynamicPassGeted(),(0==a.status||6==a.status||4==a.status)&&(instance._changeValidcode(),$(".gpp-form-tiperror").html('<i class="gpp-ico-error"></i>'+a.msg).show())})}))},showSaftPass=function(){$(".gpp-form-item-pword").hide(),$("#pprt-saft-container").show(),$(".ue-passport-validcode-container").hide()},toggleToSaft=function(a){$(".gpp-hd-half").show().find(".gpp-tit").text("\u52a8\u6001\u5bc6\u7801 \u5b89\u5168\u767b\u5f55"),$(".gpp-form-tiperror").hide(),$("#pprt-toggle-login").show(),$("#pprt-toggle-register").hide(),$(".gb-passport-pop").addClass("gpp-saft-login"),$(".gpp-saft-login-info").show(),$('input[name="email"]').attr("placeholder","\u624b\u673a\u53f7"),$(".gpp-form").addClass("gpp-form-saft-login"),a?saftLoginAcceptEmail=!0:($('input[name="email"]').val(""),$(".ui-passport-input-delete").hide()),showSaftPass()},toggleFromSaft=function(){$(".gpp-hd:eq(0)").show().find(".gpp-tit").text("\u7528\u6237\u767b\u5f55"),$(".gb-passport-pop").removeClass("gpp-saft-login"),$(".gpp-saft-login-info").hide(),$(".gpp-form").removeClass("gpp-form-saft-login"),$("#pprt-saft-container").hide(),$(".gpp-form-item-pword").show(),$("#pprt-toggle-login").hide(),$("#pprt-toggle-register").show(),instance.saftPaswordInput.value="",instance.saftPassword="",$('input[name="email"]').attr("placeholder","\u624b\u673a\u53f7 / \u90ae\u7bb1").val(Passport.getLastAccount())};Passport.on(Passport.EVENTS.loginSuccess,function(){parent.Passport.sendMessage("openPlatformBind",{})});for(var i in Passport.EVENTS)if("loginSuccess"!==i){var fn=function(a){return function(b){b=b||{},b.ev=a;var c=JSON.stringify(b);Passport.messenger.targets.parent.send(c)}}(i);Passport.on(i,fn)}var toggleToLogin=function(){$(".pprt-login-el").show(),$(".ue-passport-validcode-container").hide(),$(".gb-passport-pop").removeClass("gpp-signin").removeClass("gpp-tel-bind").removeClass("gpp-modify-name"),$(".pprt-register-mobile-el").hide(),$("#pprt-login-other-bt").show(),$(".pprt-bindMobile-el").hide(),$(".pprt-editName-el").hide(),$('input[name="email"]').attr("placeholder","\u624b\u673a\u53f7 / \u90ae\u7bb1"),dialogType="login",setTimeout(function(){$(".pprt-bindMobile-el").show(),$(".pprt-bindMobile-el").hide()},10)},toggleToBindMobile=function(){$(".pprt-register-el").hide(),$(".pprt-editName-el").hide(),$(".ue-passport-validcode-container").hide(),$(".pprt-register-mobile-el").hide(),$(".pprt-login-el").hide(),$(".gb-passport-pop").addClass("gpp-tel-bind").removeClass("gpp-modify-name").show(),$(".pprt-bindMobile-el").find(".gpp-tit").text("\u8bf7\u586b\u5199\u624b\u673a\u53f7"),$(".ui-passport-mobile-delete").hide(),$("#pprt-bindmobile-imgcaptcha").val(""),$("#pprt-bindmobile-phonevalidate").text("\u8d26\u53f7\u5b89\u5168\u7ea7\u522b\u8f83\u4f4e\uff0c\u5efa\u8bae\u7ed1\u5b9a\u624b\u673a"),$("#pprt-bindmobile-mobile").val(""),$("#pprt-bindmobile-getCaptcha").val(""),clearTimeout(captchaTimer),onSending=!1,captchaCoolDown=0,$("#pprt-bindmobile-getCaptcha").html("\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801"),$(".pprt-bindMobile-el").show(),dialogType="mobileBind",Passport.core.fireEvent(Passport.EVENTS.mobileBindFailure),setTimeout(function(){try{$("#pprt-bindmobile-mobile")[0].focus()}catch(a){}},500)},toggleToNameEdit=function(){$(".pprt-register-el").hide(),$(".ue-passport-validcode-container").hide(),$(".pprt-register-mobile-el").hide(),$(".pprt-login-el").hide(),$(".gb-passport-pop").removeClass("gpp-tel-bind").addClass("gpp-modify-name").show(),$(".ui-passport-mobile-delete").hide(),$("#pprt-bindmobile-phonevalidate").hide(),$("#pprt-bindmobile-mobile").val(""),$(".gpp-form-tiperror").hide(),$("#pprt-bindmobile-getCaptcha").val(""),$(".pprt-bindMobile-el").hide(),$("#pprt-nameedit-currentname").text(Passport.data("nickname")),$(".pprt-editName-el").show(),dialogType="nameEdit",setTimeout(function(){try{$("#pprt-nameedit-name")[0].focus()}catch(a){}},500)};window.initNut=function(a){a=a||{},dialogArgs=a,Passport.defaultOption.mobileBindOn=a.mobileBindOn,Passport.defaultOption.registerParam=a.registerParam,Passport.defaultOption.loginType=a.loginType;var b;a.onHide&&(b=a.onHide),a.onHide=function(){parent.Passport.Nut.hide(),b&&b()},Passport._Dialog.show(a),$("input[placeholder]").placeholderEnhanced&&$("input[placeholder]").placeholderEnhanced({normalize:!1}),toggleFromSaft(),"mobileBind"===a.type?toggleToBindMobile():"nameEdit"===a.type?toggleToNameEdit():"mobile"==Passport.defaultOption.loginType?(toggleToLogin(),toggleToSaft()):toggleToLogin(),isLogined=Passport.isLoggedIn()};